#!/bin/sh
#
# dot
#
# `dot` handles installation, updates, things like that. Run it periodically
# to make sure you're on the latest and greatest.
export ZSH=$HOME/.dotfiles


# If we're on a Mac, let's install and setup homebrew.
if [ "$(uname -s)" == "Darwin" ]
then
  # Set OS X defaults
  echo "setting osx defaults"
  $ZSH/osx/set-defaults.sh

  # Install homebrew packages
  echo "installing homebrew and default packages"
  $ZSH/homebrew/install.sh 2>&1
fi

if [ -d "$HOME/.asdf" ]; then
  echo "updating asdf"
  cd ~/.asdf
  git pull origin master
else
  echo "installing asdf"
  git clone https://github.com/asdf-vm/asdf.git ~/.asdf
fi

. ~/.asdf/asdf.sh

asdf plugin-add nodejs https://github.com/asdf-vm/asdf-nodejs.git
asdf plugin-add elixir https://github.com/asdf-vm/asdf-elixir.git
asdf plugin-add erlang https://github.com/asdf-vm/asdf-erlang.git
asdf plugin-add python https://github.com/tuvistavie/asdf-python.git
asdf plugin-add ruby https://github.com/asdf-vm/asdf-ruby.git
asdf plugin-add clojure https://github.com/vic/asdf-clojure.git

exit 0
